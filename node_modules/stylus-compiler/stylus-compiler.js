// Generated by CoffeeScript 1.6.3
var compiler, fs, path, stylus,
  __slice = [].slice;

fs = require('fs');

path = require('path');

stylus = require('stylus');

module.exports = compiler = {
  fromSource: function() {
    var callback, opts, src, _i;
    src = arguments[0], opts = 3 <= arguments.length ? __slice.call(arguments, 1, _i = arguments.length - 1) : (_i = 1, []), callback = arguments[_i++];
    opts = opts[0] || {};
    if (opts.filename == null) {
      opts.filename = 'stylus-compiler';
    }
    return stylus.render(src, opts, callback);
  },
  fromFile: function() {
    var callback, filepath, opts, _i,
      _this = this;
    filepath = arguments[0], opts = 3 <= arguments.length ? __slice.call(arguments, 1, _i = arguments.length - 1) : (_i = 1, []), callback = arguments[_i++];
    opts = opts[0] || {};
    if (opts.filename == null) {
      opts.filename = filepath;
    }
    return fs.readFile(filepath, 'utf8', function(err, src) {
      if (err != null) {
        return callback(err);
      }
      return compiler.fromSource(src, opts, callback);
    });
  }
};
